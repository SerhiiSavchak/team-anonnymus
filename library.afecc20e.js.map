{"mappings":"oeAAAA,EAAA,S,WCAA,IAAAC,EAAAD,EAAA,S,aAGA,MACME,EAAYC,SAASC,cAAc,sBACnCC,EAAeF,SAASC,cAAc,gBAE5C,SAASE,IACP,MAAMC,EAAcN,EAAAO,QAAQC,KALF,gBAO1B,GAAKF,GAAsC,IAAvBA,EAAYG,OAEzB,CACL,MAAMC,EAAwBJ,EAgB7BK,KACCC,GAAS,iBAAiBA,EAAMC,mIAEUD,EAAME,gBAAgBF,EAAMG,mIAG9CH,EAAMC,kCAAkCD,EAAMG,0CAC/CH,EAAMC,0DAChBD,EAAMI,6CACSJ,EAAMC,sDACnBD,EAAMK,6HAQtBC,KAAK,KAKV,SAAmBC,EAAST,GAC1BS,EAAQC,UAAYV,C,CAtClBW,CAAUjB,EAAcM,GAExBN,EAAakB,iBAAiB,QAASC,EAAAC,Y,MAuC3C,WACE,MAAMC,EAAc,6MAIpBxB,EAAUmB,UAAYK,C,CAlDpBC,E,CAUJC,OAAOL,iBAAiB,QAExB,WACEjB,G","sources":["src/library.js","src/js/components/library-list.js"],"sourcesContent":["import './js/utils/theme';\nimport './js/components/header';\nimport './js/components/library-list';\nimport './js/components/modal';\nimport './js/components/footer';\nimport './js/utils/scroll-up';\nimport './js/utils/loader';\n","import Storage from '../api/localStorageAPI';\nimport { selectMovie } from '../components/modal';\n\nconst STORAGE_LIBRARY_KEY = 'movieLibrary';\nconst container = document.querySelector('.library-container');\nconst libraryUlRef = document.querySelector('.movies-list');\n\nfunction renderStorageData() {\n  const savedMovies = Storage.load(STORAGE_LIBRARY_KEY);\n\n  if (!savedMovies || savedMovies.length === 0) {\n    renderEmptyLocalMarkup();\n  } else {\n    const markup = generateMarkup(savedMovies);\n\n    addMarkup(libraryUlRef, markup);\n\n    libraryUlRef.addEventListener('click', selectMovie);\n  }\n}\n\nwindow.addEventListener('load', onPageLoad);\n\nfunction onPageLoad() {\n  renderStorageData();\n}\n\nfunction generateMarkup(data) {\n  const markup = data\n    .map(\n      movie => ` <li data-id=\"${movie.id}\" class=\"library-list-item\">\n         <div class=\"library-item-wrap\" href=\"\">\n           <img class=\"library-list-img\" src=\"${movie.poster}\" alt=\"${movie.title}\" />\n           <div class=\"library-item-desc\">\n             <div class=\"title-genre-date\">\n               <h2 data-id=\"${movie.id}\" class=\"library-item-title\">${movie.title}</h2>\n               <p data-id=\"${movie.id}\" class=\"library-item-genre-date\">\n                 ${movie.genres} |\n                 <span data-id=\"${movie.id}\" class=\"library-item-date\">\n                   ${movie.release}\n                 </span>\n               </p>\n             </div>\n           </div>\n          \n       </li>`\n    )\n    .join('');\n\n  return markup;\n}\n\nfunction addMarkup(element, markup) {\n  element.innerHTML = markup;\n}\n\nfunction renderEmptyLocalMarkup() {\n  const failureText = `<p class=\"library-error-text\">OOPS...<br>\n  We are very sorry!<br>\n  We don’t have any results matching your search.</p>\n  <a href=\"./catalog.html\" class=\"library-error-btn btn link\">Search movie</a>`;\n  container.innerHTML = failureText;\n}\n"],"names":["parcelRequire","$jqwYo","$aa40dc4afcabace1$var$container","document","querySelector","$aa40dc4afcabace1$var$libraryUlRef","$aa40dc4afcabace1$var$renderStorageData","savedMovies","default","load","length","markup","map","movie","id","poster","title","genres","release","join","element","innerHTML","$aa40dc4afcabace1$var$addMarkup","addEventListener","$8IXMh","selectMovie","failureText","$aa40dc4afcabace1$var$renderEmptyLocalMarkup","window"],"version":3,"file":"library.afecc20e.js.map"}