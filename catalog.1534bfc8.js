var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in t){var i=t[e];delete t[e];var o={id:e,exports:{}};return n[e]=o,i.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){t[e]=n},e.parcelRequired7c6=i),i("3rDVG"),i("5h2Rr");var o=i("8IXMh");const a={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiZDBhNDQ5OWUzZjBiMDM2MDI1ZDEyNTk1Mzk3MjI3YSIsInN1YiI6IjY0N2YxZDM3Y2FlZjJkMDEzNjJjZDBjMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.04GEOyHwNXnOZB4gUWNaiyPlLlOZ0z9Ttfl7T5UFMuk"}},r=document.querySelector(".catalog-list"),l=document.querySelector(".search-form"),s=document.querySelector(".search-form-input"),c=document.querySelector(".error-container");function d(){const e=window.innerWidth;let n;n=e>=768?20:10;g(`trending/movie/week?language=en-US&include_adult=false&include_video=false&page=1&per_page=${n}`,a).then((e=>{console.log(e),p(e.slice(0,n)).then((e=>{f(r,e),r.addEventListener("click",o.selectMovie)}))}))}function u(){const e=c.querySelector(".no-results-message");e&&e.remove()}async function g(e,n){const t=await fetch(`https://api.themoviedb.org/3/${e}`,n);return(await t.json()).results.slice(0,20)}function p(e){return async function(e){const n=await fetch("https://api.themoviedb.org/3/genre/movie/list?language=en",e);return(await n.json()).genres}(a).then((n=>{const t=function(e,n){return e.map((e=>{const t=e.genre_ids.map((e=>n.find((n=>n.id===e)).name));return{release_date:e.release_date,id:e.id,title:e.title,poster:e.poster_path,genreFirst:t[0],genreSecond:t[1]}}))}(e,n);return console.log(t),function(e){console.log(e);return e.map((e=>`<li data-id="${e.id}" class="catalog-movie">\n        <a class="catalog-item-link" href="">\n            <img class="catalog-list-img" src="https://image.tmdb.org/t/p/w500${e.poster}" alt="${e.title}" />\n            <div class="catalog-movie-desc">\n            <p class="catalog-item-title">${e.title}</p>\n            <p class="catalog-item-movie">\n                ${e.genreFirst}, ${e.genreSecond} | \n                <span class="catalog-item-date">\n                    ${e.release_date.slice(0,4)}\n                </span> \n            </p>\n            </div>\n            </a> \n        </li>`)).join("")}(t)}))}function f(e,n){e.innerHTML=n}window.addEventListener("load",d),l.addEventListener("submit",(function(e){e.preventDefault();const n=s.value.trim();let t;t=window.innerWidth>=768?20:10;if(""!==n){g(`search/movie?query=${n}&language=en-US&page=1&per_page=${t}`,a).then((e=>{console.clear(),console.log(e),e.length>0?(p(e.slice(0,t)).then((e=>{f(r,e)})),u()):function(){const e=document.createElement("p");e.classList.add("no-results-message"),e.textContent="OOPS... We are very sorry! We don't have any results matching your search.",c.appendChild(e),r.innerHTML=""}()}))}else d(),u()})),i("8IXMh"),i("gTaRf");
//# sourceMappingURL=catalog.1534bfc8.js.map
