!function(){function n(n){return n&&n.__esModule?n.default:n}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},a=e.parcelRequired7c6;null==a&&((a=function(n){if(n in t)return t[n].exports;if(n in i){var e=i[n];delete i[n];var a={id:n,exports:{}};return t[n]=a,e.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(n,e){i[n]=e},e.parcelRequired7c6=a),a("iKaqA"),a("8GIKD"),a("b4pSS");var o=a("bpxeT"),c=a("2TvXO");function r(n,e){return n.map((function(n){var t=n.genre_ids.map((function(n){return e.find((function(e){return e.id===n})).name}));return{release_date:n.release_date,id:n.id,title:n.title,poster:n.poster_path,genreFirst:t[0],genreSecond:t[1]}}))}var s=a("5aGdC");function l(n,e){var t=r(n,e);return t.map((function(n){return' \n        <li class="weekly-item" data-id="'.concat(n.id,'">\n          <div class="weekly-wrap" ">\n              <img class="weekly-poster-img" src="https://image.tmdb.org/t/p/w500/').concat(n.poster,'" alt="').concat(n.title,'" />       \n          <div class="weekly-info">\n              <h3  data-id="').concat(n.id,'" class="weekly-info-title">').concat(n.title,'</h3>\n                  <div class="info-movie">\n                      <p data-id="').concat(n.id,' class="weekly-info-genre">').concat(n.genreFirst,",&nbsp ").concat(n.genreSecond,'&nbsp ‚ñè</p>\n                      <p data-id="').concat(n.id,' class="weekly-info-date">').concat(n.release_date.slice(0,4),"</p>\n                  </div>\n          </div>\n          </div>     \n      </li>\n       ")})).join("")}s=a("5aGdC");var p=a("6345n"),d=a("43fUj"),u=a("8BR1R"),f=document.querySelector(".weekly-list");function m(){return g.apply(this,arguments)}function g(){return(g=n(o)(n(c).mark((function e(){var t,i,a,o,r;return n(c).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,d.getTrendingMovie)();case 3:return t=n.sent,i=t.data.results.slice(0,3),n.next=7,(0,p.getGenres)();case 7:a=n.sent,o=a.data.genres,r=l(i,o),(0,s.addMarkup)(f,r),f.addEventListener("click",u.selectMovie),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),console.log(n.t0.message);case 17:case"end":return n.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}window.addEventListener("load",(function(){m()}));o=a("bpxeT"),c=a("2TvXO");var v=a("dIxxU"),w=(p=a("6345n"),a("ks1QH")),h=document.querySelector(".upcoming-container "),y=a("gSoaZ"),b=(y=a("gSoaZ"),"");function x(n){var e=n.overview;n.overview.length>300&&(e=n.overview),b=(0,y.IsMovieInLibrary)(n.id)?"Remove from my library":"Add to my library";var t=' \n  <div class ="upcoming-section-wrap">\n    <picture class="upcoming-poster">\n    <source media="(min-width:768px)" srcset="https://image.tmdb.org/t/p/original'.concat(n.backdrop_path,'">\n    <img class="upcoming-img" src="https://image.tmdb.org/t/p/w500').concat(n.poster_path,'" alt="').concat(n.title,'">\n</picture>\n    <div class="upcoming-info-wrap">\n        <h3 class="upcoming-film-title">').concat(n.title,'</h3>\n        \n        <div class ="upcoming-info-film-wrap">\n            <ul class="upcoming-info-film-list list">\n              <li class="upcoming-info-film-item">\n                <p class="upcoming-info-film-text">Release date</p>\n                <p class="upcoming-info-film-text release ">').concat(n.release_date.replace(/^(\d+)-(\d+)-(\d+)$/,"$3.$2.$1"),'</p>\n              </li>\n\n              <li class="upcoming-info-film-item">\n                <p class="upcoming-info-film-text">Vote / Votes</p>\n                <p class="upcoming-info-film-text"><span class="upcoming-info-film-span">').concat(n.vote_average,'</span ><b>/</b><span class="upcoming-info-film-span">').concat(n.vote_count,'</span></p>\n              </li>\n            </ul>\n            \n            <ul class="upcoming-info-film-list list">\n              <li class="upcoming-info-film-item">\n                <p class="upcoming-info-film-text">Popularity</p>\n                <p class="upcoming-info-film-text white">').concat(Number(n.popularity.toFixed(1)),'</p>\n              </li>\n\n              <li class="upcoming-info-film-item">\n                <p class="upcoming-info-film-text">Genre</p>\n                <p class="upcoming-info-film-text white genre-padding-bottom">').concat(n.genres,'</p>\n              </li>\n            </ul> \n             \n        </div>\n    \n        <div class ="upcoming-info-film-overview">\n      <h3 class="upcoming-info-film-title">ABOUT</h3>\n      <p class="upcoming-info-film-description">').concat(e,'</p>\n      <button class="btn js-add-remove-library" type="button" data-id="').concat(n.id,'">').concat(b,"</button>\n      </div>\n    </div>\n  </div>");return n.results?'<h3 class="upcoming-alert">Ops! No upcoming films...</h3>':t}function k(){return v.default.get("".concat(w.BASE_URL,"movie/upcoming"),{params:{api_key:w.API_KEY,language:"en-US"}})}function _(){return S.apply(this,arguments)}function S(){return(S=n(o)(n(c).mark((function e(){var t,i,a,o,r;return n(c).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,k();case 3:return t=n.sent,i=t.data.results[Math.floor(Math.random()*t.data.results.length)],n.next=7,(0,p.getGenres)();case 7:a=n.sent,o=a.data.genres,r=i.genre_ids.map((function(n){return o.find((function(e){return e.id===n})).name})).slice(0,2).join(", "),i.genres=r,h.insertAdjacentHTML("beforeend",x(i)),document.querySelector(".js-add-remove-library").addEventListener("click",y.onAddRemoveMovie),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(0),console.log(n.t0.message);case 19:case"end":return n.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}window.addEventListener("load",(function(){_()})),a("8BR1R"),a("cwtus"),a("9sPra"),a("8dpKU")}();
//# sourceMappingURL=index.bba7ea3d.js.map
