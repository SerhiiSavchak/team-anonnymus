{"mappings":"mkBAAA,IAAAA,EAAAC,EAAA,S,0BAEIC,EAAS,GAIPC,EAAcC,SAASC,cAAc,SACrCC,EAAaF,SAASC,cAAc,UACpCE,EAAO,CACXC,aAAcJ,SAASC,cAAc,qBACrCI,cAAeL,SAASC,cAAc,sBACtCK,MAAON,SAASC,cAAc,iB,SAYjBM,I,OAAAC,EAAoBC,MAAAC,KAAAC,U,UAApBH,I,OAAAA,EAAfI,EAAAhB,EAAA,CAAAgB,EAAAC,GAAAC,MAAA,SAAAC,I,IACQC,EAWFC,E,yEAXED,EAAU,CACdE,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cACE,+NAIO,iE,SAEQC,EAAAC,QAAMC,IAFd,iEAEuBR,G,UACZ,OADpBC,EAAQQ,EAAAC,MACCC,OAAc,C,eACzB,MAAM,IAAIC,MAAMX,G,OAIhBY,EAFaZ,G,6CAhBkBR,MAAAC,KAAAC,U,CA+EnC,SAASkB,EAAgBC,GAJhBC,KAAKC,MAAuB,GAAjBD,KAAKE,UAMvB,IAAMC,EAAYJ,EAAKA,KAAKK,QAAQC,cAGpCpC,SAASC,cAAc,iBAAiBoC,YAAcH,EAAUI,aAChE,IAAMC,EAAoBL,EAAUI,aAAe,IAAO,EAC1DtC,SAASC,cACP,kBACAuC,MAAMC,MAAQ,GAAqBC,OAAlBH,EAAkB,KAGrCvC,SAASC,cACP,eACAoC,YAAc,GAA4BK,OAAzBR,EAAUS,gBAC7B3C,SAASC,cAAc,kBAAkBoC,YAAc,GAG1CK,OAH6CR,EAAUU,SACjEC,MAAM,KACNC,MAAM,EAAG,IACTC,KAAK,KAAK,OAEb/C,SAASC,cACP,qBACAoC,YAAc,GAAwDK,OAArDR,EAAUU,SAASC,MAAM,KAAKC,MAAM,EAAG,IAAIC,KAAK,KAAK,OAExEhD,EAAYyC,MAAMQ,gBAAkB,0HACyFN,OAAxBR,EAAUe,cAAc,KAoC/H,SAAmBf,GACTpC,EAASoC,EAAUgB,E,CAnC3BC,CAAUjB,E,CA8BZ,SAASkB,IACPjD,EAAKG,MAAM+C,UAAUC,OAAO,Y,UAgBfC,I,OAAAA,EAAf3C,EAAAhB,EAAA,CAAAgB,EAAAC,GAAAC,MAAA,SAAAC,I,IAGQC,EASAwC,EAEFvC,EAIIa,E,yEAfFd,EAAU,CACdE,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cACE,+NAIAmC,EAAM,sCAA6Cd,OAAP5C,EAAO,2B,SAEpCwB,EAAAC,QAAMC,IAAIgC,EAAKxC,G,UACZ,OADpBC,EAAQQ,EAAAC,MACCC,OAAc,C,gBACzB,MAAM,IAAIC,MAAMX,G,QAEVa,EAAOb,EACbwC,QAAQC,IAAI5B,EAAKA,KAAKK,QAAQ,GAAGwB,KACjCC,EAAO9B,G,6CApBiBrB,MAAAC,KAAAC,U,CAwB5B,SAASiD,EAAO9B,GACd,IAAM+B,EAAY/B,EAAKA,KAAKK,QAAQ,GAAGwB,IACvCF,QAAQC,IAAI5B,EAAKA,MACjB5B,EAAW4D,IAAM,iCAA2CpB,OAAVmB,E,CA7LpD1D,EAAKC,aAAa2D,iBAAiB,QAASX,GAC5CjD,EAAKE,cAAc0D,iBAAiB,QAASX,GAE7CY,OAAOD,iBAAiB,QA4DxB,WAwDQE,EAAO,usBAmBblE,EAAYmE,mBAAmB,aAAcD,GAzE7CR,QAAQC,IAAI,oBACZnD,IACG4D,MAAK,SAAArC,GACJ9B,SACGC,cAAc,mBACdoD,UAAUe,OAAO,mB,IAErBC,OAAM,SAAAC,IAzCX,WACEtE,SAASC,cAAc,eAAeoC,YACpC,6BAEFrC,SAASC,cACP,kBACAoC,YAAe,2MAIjBrC,SAASC,cACP,qBACAoC,YAAe,kHAEjBrC,SAASC,cAAc,gBAAgBoD,UAAUkB,IAAI,oBACrDvE,SACGC,cAAc,mBACdoD,UAAUe,OAAO,oBAEpBpE,SAASC,cAAc,mBAAmBoD,UAAUkB,IAAI,oBACxDvE,SAASC,cAAc,aAAaoD,UAAUkB,IAAI,oBAElD,IAAMC,EAAW,yIAGjBzE,EAAYmE,mBAAmB,YAAaM,GAC5CzE,EAAYyC,MAAMQ,gBAChB,qH,CAeEyB,E,IAGJC,aAAY,WACVnE,G,GACC,KAwCL,IACQ0D,C,IAlHRlE,EAAYgE,iBAAiB,SAoJ7B,Y,kBASeR,EAAa9C,MAAAC,KAAAC,U,EAR1BgE,GAAgBN,OAAM,SAAUC,GAC9Bb,QAAQC,IAAI,qBAqChB,WAEExD,EAAWmD,UAAUkB,IAAI,oBACzB,IAAMK,EAAa,+vBAgBnBzE,EAAKG,MAAM4D,mBAAmB,aAAcU,E,CAvD1CC,E","sources":["src/js/components/hero.js"],"sourcesContent":["import axios from 'axios';\n\nlet filmID = '';\n\n// REFS\n\nconst heroSection = document.querySelector('.hero');\nconst videoModal = document.querySelector('iframe');\nconst refs = {\n  openModalBtn: document.querySelector('[data-modal-open]'),\n  closeModalBtn: document.querySelector('[data-modal-close]'),\n  modal: document.querySelector('[data-modal]'),\n};\n\nrefs.openModalBtn.addEventListener('click', toggleModal);\nrefs.closeModalBtn.addEventListener('click', toggleModal);\n\nwindow.addEventListener('load', onPageLoad);\n\nheroSection.addEventListener('click', watchFilm);\n\n// FETCH\n\nasync function fetchTrandingFilmDay() {\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiZDBhNDQ5OWUzZjBiMDM2MDI1ZDEyNTk1Mzk3MjI3YSIsInN1YiI6IjY0N2YxZDM3Y2FlZjJkMDEzNjJjZDBjMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.04GEOyHwNXnOZB4gUWNaiyPlLlOZ0z9Ttfl7T5UFMuk',\n    },\n  };\n\n  const URL = `https://api.themoviedb.org/3/trending/movie/day?language=en-US`;\n\n  let response = await axios.get(URL, options);\n  if (response.status !== 200) {\n    throw new Error(response);\n  } else {\n    const data = response;\n\n    firstHeroMarkup(data);\n  }\n}\n\nfunction onEror() {\n  document.querySelector('.hero-title').textContent =\n    'Let’s Make Your Own Cinema';\n  // heroWrap()\n  document.querySelector(\n    '.hero-text-big'\n  ).textContent = `Is a guide to creating a personalized movie theater experience. You'll need a\nprojector, screen, and speakers. Decorate\nyour space, choose your films, and stock up on snacks for the full experience.`;\n\n  document.querySelector(\n    '.hero-text-mobile'\n  ).textContent = `Is a guide to creating a personalized movie theater experience. You'll need a\nprojector, screen, and speakers.`;\n  document.querySelector('.hero-rating').classList.add('visuality-hidden');\n  document\n    .querySelector('.hero-text-cont')\n    .classList.remove('visuality-hidden');\n\n  document.querySelector('.hero-black-btn').classList.add('visuality-hidden');\n  document.querySelector('.hero-btn').classList.add('visuality-hidden');\n\n  const ereoBtn = `<a href=\"./src/catalog.html\" class=\"hero-link\">\n                <button type=\"button\" class=\"hero-start-btn\">Get Started</button></a>`;\n\n  heroSection.insertAdjacentHTML('beforeend', ereoBtn);\n  heroSection.style.backgroundImage =\n    'linear-gradient(86.77deg,#111111 30.38%,rgba(17, 17, 17, 0) 65.61%),url(..srcimageshome-pagehero-home1x-mobile.jpg)';\n}\n\n// LISTENER\n\nfunction onPageLoad() {\n  heroWrap();\n  console.log('hello onPageLoad');\n  fetchTrandingFilmDay()\n    .then(data => {\n      document\n        .querySelector('.hero-text-cont')\n        .classList.remove('visuality-hidden');\n    })\n    .catch(error => {\n      onEror();\n    });\n\n  setInterval(() => {\n    fetchTrandingFilmDay();\n  }, 20000);\n}\n\n// UTILS\n\nfunction heroRandomaizer() {\n  return Math.floor(Math.random() * (19 - 0 + 1)) + 0;\n}\n\n// MARKUP\nfunction firstHeroMarkup(data) {\n  heroRandomaizer();\n  const fetchInfo = data.data.results[kaleidoscope];\n\n  // start staer\n  document.querySelector('.rating_value').textContent = fetchInfo.vote_average;\n  const ratingActiveWidth = fetchInfo.vote_average / 0.05 / 2;\n  document.querySelector(\n    '.rating_active'\n  ).style.width = `${ratingActiveWidth}%`;\n  // end staer\n\n  document.querySelector(\n    '.hero-title'\n  ).textContent = `${fetchInfo.original_title}`;\n  document.querySelector('.hero-text-big').textContent = `${fetchInfo.overview\n    .split(' ')\n    .slice(0, 50)\n    .join(' ')}...`;\n\n  document.querySelector(\n    '.hero-text-mobile'\n  ).textContent = `${fetchInfo.overview.split(' ').slice(0, 25).join(' ')}...`;\n\n  heroSection.style.backgroundImage = `linear-gradient(\n      86.77deg, #111111 30.38%, rgba(17, 17, 17, 0) 65.61%), url(https://image.tmdb.org/t/p/original/${fetchInfo.backdrop_path})`;\n\n  getFilmID(fetchInfo);\n}\n\nfunction heroWrap() {\n  const box = `<div class=\"hero-text-cont сontainer visuality-hidden\">\n  <h2 class=\"hero-title\"></h2>\n        <!-- rating -->\n        <div class=\"hero-rating\">\n            <div class=\"hero-rating_body\">\n                <div class=\"rating_active\"></div>\n            </div>\n            <div class=\"rating_value\"></div>\n        </div>\n        <!-- end rating -->\n        <p class=\"hero-text-mobile\"></p>\n        <p class=\"hero-text-big\"></p>\n        <div class=\"hero-btn\">\n            <button type=\"button\" class=\"btn\" data-modal-open>Watch trailer</button>\n            <button type=\"button\" class=\"hero-black-btn\">\n                More details\n            </button>\n        </div>\n        </div>`;\n  heroSection.insertAdjacentHTML('afterbegin', box);\n}\n\n// MODAL\n\n// REFS\n\nfunction toggleModal() {\n  refs.modal.classList.toggle('is-hidden');\n}\n\nfunction getFilmID(fetchInfo) {\n  return (filmID = fetchInfo.id);\n}\n\nfunction watchFilm() {\n  fetchFilmByID().catch(function (error) {\n    console.log('Ereor wathtrailer');\n    onModalError();\n  });\n}\n\n// FETCH MODAL\n\nasync function fetchFilmByID() {\n  filmID;\n\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiZDBhNDQ5OWUzZjBiMDM2MDI1ZDEyNTk1Mzk3MjI3YSIsInN1YiI6IjY0N2YxZDM3Y2FlZjJkMDEzNjJjZDBjMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.04GEOyHwNXnOZB4gUWNaiyPlLlOZ0z9Ttfl7T5UFMuk',\n    },\n  };\n\n  const URL = `https://api.themoviedb.org/3/movie/${filmID}/videos?language=en-US,`;\n\n  let response = await axios.get(URL, options);\n  if (response.status !== 200) {\n    throw new Error(response);\n  } else {\n    const data = response;\n    console.log(data.data.results[0].key);\n    addKey(data);\n  }\n}\n\nfunction addKey(data) {\n  const curentKey = data.data.results[0].key;\n  console.log(data.data);\n  videoModal.src = `https://www.youtube.com/embed/${curentKey}`;\n}\n\nfunction onModalError() {\n  //  .modal\n  videoModal.classList.add('visuality-hidden');\n  const errorText = `<p>OOPS...\n    We are very sorry!\n    But we couldn’t find the trailer.</p>\n<picture>\n    <source srcset=\"\n                            src\\images\\error\\error-@1x-mobile.png 1x, \n                            src\\images\\error\\error-@2x-mobile.png 2x\" media=\"(max-width: 768px)\">\n    <source srcset=\"\n                            src\\images\\error\\error-@1x-tablet.png 1x, \n                            src\\images\\error\\error-@2x-tablet.png 2x\" media=\"(min-width: 768px)\">\n    <source srcset=\"\n                            src\\images\\error\\error-@1x-desctop.png 1x, \n                            src\\images\\error\\error-@2x-desctop.png 2x\" media=\"(min-width: 1200px)\">\n    <img class=\"hero-error-img\" src=\"src\\images\\error\\error-@1x-mobile.png \" alt=\"Error\" width=\"200\">\n</picture>`;\n\n  refs.modal.insertAdjacentHTML('afterbegin', errorText);\n}\n"],"names":["$bpxeT","parcelRequire","$80f4257d800c0f46$var$filmID","$80f4257d800c0f46$var$heroSection","document","querySelector","$80f4257d800c0f46$var$videoModal","$80f4257d800c0f46$var$refs","openModalBtn","closeModalBtn","modal","$80f4257d800c0f46$var$fetchTrandingFilmDay","$80f4257d800c0f46$var$_fetchTrandingFilmDay","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","options","response","method","headers","accept","Authorization","$dIxxU","default","get","_ctx","sent","status","Error","$80f4257d800c0f46$var$firstHeroMarkup","data","Math","floor","random","fetchInfo","results","kaleidoscope","textContent","vote_average","ratingActiveWidth","style","width","concat","original_title","overview","split","slice","join","backgroundImage","backdrop_path","id","$80f4257d800c0f46$var$getFilmID","$80f4257d800c0f46$var$toggleModal","classList","toggle","$80f4257d800c0f46$var$_fetchFilmByID","URL","console","log","key","$80f4257d800c0f46$var$addKey","curentKey","src","addEventListener","window","box","insertAdjacentHTML","then","remove","catch","error","add","ereoBtn","$80f4257d800c0f46$var$onEror","setInterval","$80f4257d800c0f46$var$fetchFilmByID","errorText","$80f4257d800c0f46$var$onModalError"],"version":3,"file":"library.0f9fb4a7.js.map"}