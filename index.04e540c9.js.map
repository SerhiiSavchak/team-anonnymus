{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","src/js/components/hero.js","src/js/refs/heroRefs.js","src/js/markup/heroMarkup.js","src/js/api/fetchTrandingDay.js","src/js/utils/addMarkup.js","src/js/api/fetchVideo.js","node_modules/@parcel/runtime-js/lib/runtime-9115c72785e9c68b.js","node_modules/@parcel/runtime-js/lib/runtime-9b0d1fa98e0bd4aa.js","node_modules/@parcel/runtime-js/lib/runtime-ac096795a0c8a49a.js","src/js/api/fetchGenres.js","src/js/api/fetchTrandingWeek.js","node_modules/@parcel/runtime-js/lib/runtime-53401cb4cc012004.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","import { btnCloseRef, backdropModalRef } from '../refs/heroRefs';\n\nimport { createHeroMarkup } from '../markup/heroMarkup';\n\nwindow.addEventListener('load', onPageLoad);\n\nbtnCloseRef.addEventListener('click', onBtnCloseClick);\n\nfunction onPageLoad() {\n  try {\n    createHeroMarkup();\n    intervalId = setInterval(() => {\n      createHeroMarkup();\n    }, 20000);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction onBtnCloseClick(evt) {\n  backdropModalRef.classList.add('visuality-hidden');\n  if (document.querySelector('.iframe-hero')) {\n    const iframe = document.querySelector('.iframe-hero');\n\n    iframe.src = '';\n    document.body.classList.remove('scroll-block');\n  }\n  backdropModalRef.classList.add('visuality-hidden');\n}\n","const heroSectionRef = document.querySelector('.hero-section');\nconst heroCont = document.querySelector('.hero-container');\nconst btnCloseRef = document.querySelector('.hero-modal-close');\nconst backdropModalRef = document.querySelector('.hero-backdrop');\nconst modalWrapRef = document.querySelector('.modal-wrap');\n\nexport {\n  heroSectionRef,\n  heroCont,\n  btnCloseRef,\n  backdropModalRef,\n  modalWrapRef,\n};\n","import { getTrandingDay } from '../api/fetchTrandingDay';\nimport {\n  heroSectionRef,\n  heroCont,\n  backdropModalRef,\n  modalWrapRef,\n} from '../refs/heroRefs';\nimport { selectMovie } from '../components/modal';\nimport { addMarkup } from '../utils/addMarkup';\nimport { fetchVideo } from '../api/fetchVideo';\nimport imgError from '../../images/error/error-@1x-mobile.png';\nimport imgErrorTablet from '../../images/error/error-@1x-tablet.png';\nimport imgErrorDesc from '../../images/error/error-@1x-desctop.png';\n\nlet intervalId = null;\n\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiZDBhNDQ5OWUzZjBiMDM2MDI1ZDEyNTk1Mzk3MjI3YSIsInN1YiI6IjY0N2YxZDM3Y2FlZjJkMDEzNjJjZDBjMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.04GEOyHwNXnOZB4gUWNaiyPlLlOZ0z9Ttfl7T5UFMuk',\n  },\n};\n\nfunction createMarkup(data) {\n  heroSectionRef.style.backgroundImage = `linear-gradient(\n      86.77deg, #111111 30.38%, rgba(17, 17, 17, 0) 65.61%), url(\"https://image.tmdb.org/t/p/original${\n        data.backdrop_path || data.poster_path\n      }\")`;\n\n  return `  <h1 class=\"hero-title-resp\">${data.title || data.name}</h1>\n    \n    <div class=\"hero-rating\">\n              <div class=\"hero-rating_body\">\n                  <div class=\"rating_active\"></div>\n              </div>\n              <div class=\"rating_value visuality-hidden\">${\n                data.vote_average\n              }</div>\n              </div>\n  \n    <p class=\"hero-text-resp\">\n    ${data.overview.split('').slice(0, 150).join('') + '...'}\n  </p>\n    <p class=\"hero-text-big-resp\">\n      ${data.overview.split('').slice(0, 225).join('') + '...'}\n    </p>\n    <button type=\"button\" class=\"hero-btn-resp  js-open-video\" data-id=\"${\n      data.id\n    }\" >Watch trailer</button> <button type=\"button\"  class=\"hero-btn-details link\" data-id=\"${\n    data.id\n  }\">More details</button>`;\n}\n\nfunction createVideoMarkup(key) {\n  const videoUrl = `https://www.youtube.com/embed/${key}`;\n  return `<iframe class=\"iframe-hero\" autoplay; frameborder=\"0\"\n    allow=\"accelerometer; autoplay; clipboard-write; encrypted-media;  gyroscope; picture-in-picture; web-share\"\n    allowfullscreen   width=\"250\" height=\"175\" src=\"${videoUrl}\"></iframe>`;\n}\n\nasync function createHeroMarkup() {\n  try {\n    const response = await getTrandingDay();\n\n    const movieInfo =\n      response.data.results[Math.floor(Math.random() * (19 - 1 + 1)) + 1];\n\n    const markup = createMarkup(movieInfo);\n    addMarkup(heroCont, markup);\n\n    const heroBtnTrailer = document.querySelector('.js-open-video');\n    const heroBtnDetails = document.querySelector('.hero-btn-details');\n\n    const ratingActiveWidth = movieInfo.vote_average / 0.05 / 2;\n    document.querySelector(\n      '.rating_active'\n    ).style.width = `${ratingActiveWidth}%`;\n\n    heroBtnDetails.addEventListener('click', selectMovie);\n    heroBtnTrailer.addEventListener('click', onBtnOpenClick);\n  } catch (error) {\n    clearInterval(intervalId);\n    console.log(error);\n  }\n}\n\nfunction onBtnOpenClick(evt) {\n  backdropModalRef.classList.remove('visuality-hidden');\n\n  document.body.classList.add('scroll-block');\n\n  fetchVideo(evt.target.dataset.id, options).then(res => {\n    const markup = res\n      ? createVideoMarkup(res)\n      : ` <p class=\"hero-error-text\">\n      OOPS... <br />We are very sorry!<br />\n      But we couldnâ€™t find the trailer.\n    </p>\n    <picture class=\"hero-picture\">\n      <source\n        media=\"(min-width:1280px)\"\n       \n        srcset=\"${imgErrorDesc}\"\n      />\n      <source\n        media=\"(min-width:768px)\"\n        \n        srcset=\"${imgErrorTablet}\"\n      />\n      <img\n        class=\"hero-error-img\" \n        src=\"${imgError}\"\n        alt=\"error\"\n      />\n    </picture>`;\n\n    addMarkup(modalWrapRef, markup);\n  });\n}\n\nexport { createHeroMarkup };\n","import axios from 'axios';\nimport { BASE_URL, API_KEY } from './apiKey';\n\nexport function getTrandingDay() {\n  return axios.get(`${BASE_URL}trending/all/day?language=en-US`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n}\n","export function addMarkup(element, markup) {\n  element.innerHTML = markup;\n}\n","import axios from 'axios';\nimport { Notify } from 'notiflix';\nimport { BASE_URL } from './apiKey';\n\nexport async function fetchVideo(id, options) {\n  try {\n    const response = await axios.get(\n      `\n    ${BASE_URL}movie/${id}/videos`,\n      options\n    );\n\n    return response.data.results[0].key;\n  } catch (error) {\n    console.log(error);\n    Notify.info('Sorry,we couldnt find thrailer');\n  }\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"iUwmD\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dgbdS\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"5C3k6\")).toString();","import axios from 'axios';\n\nimport { BASE_URL, API_KEY } from './apiKey';\n\nexport function getGenres() {\n  return axios.get(`${BASE_URL}genre/movie/list`, {\n    params: {\n      api_key: API_KEY,\n      language: 'en',\n    },\n  });\n}\n","import axios from 'axios';\n\nimport { BASE_URL, API_KEY } from './apiKey';\n\nexport function getTrendingMovie(page = 1) {\n  return axios.get(`${BASE_URL}trending/movie/week`, {\n    params: {\n      api_key: API_KEY,\n      language: 'en-US',\n      include_adult: false,\n      include_video: false,\n      page,\n      //per_page: 10,\n    },\n  });\n}\n","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"co8kk\\\":\\\"index.04e540c9.js\\\",\\\"iUwmD\\\":\\\"error-@1x-mobile.8ac0db21.png\\\",\\\"dgbdS\\\":\\\"error-@1x-tablet.3a2ac13a.png\\\",\\\"5C3k6\\\":\\\"error-@1x-desctop.1cc796a3.png\\\"}\"));"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$iluas","parcelRequire","window","addEventListener","$eSnVJ","createHeroMarkup","intervalId","setInterval","error","console","log","btnCloseRef","evt","backdropModalRef","classList","add","document","querySelector","src","body","remove","$d5b196d2c37a621f$export$d5f6dd99c910cd37","$d5b196d2c37a621f$export$f20cf965ee5a571f","$d5b196d2c37a621f$export$e3444e2f109c18c4","$d5b196d2c37a621f$export$d02b9507ec486855","$d5b196d2c37a621f$export$9ca31af344bba76a","$co3Fh","$ad48abda09a58e17$var$options","method","headers","accept","Authorization","async","$ad48abda09a58e17$export$ef44461a32c6d630","movieInfo","getTrandingDay","data","results","Math","floor","random","markup","heroSectionRef","style","backgroundImage","backdrop_path","poster_path","title","name","vote_average","overview","split","slice","join","$73Jqe","addMarkup","heroCont","heroBtnTrailer","heroBtnDetails","ratingActiveWidth","width","$8IXMh","selectMovie","$ad48abda09a58e17$var$onBtnOpenClick","clearInterval","$jpv8j","fetchVideo","target","dataset","then","res","$parcel$interopDefault","$chmxs","$e1cza","$f1Ceh","modalWrapRef","$2shzp","$904a91af100699e5$export$c56726c5aabf3ac4","default","get","$bkYP9","BASE_URL","params","api_key","API_KEY","$523c0c1f5731ae28$export$485cc6bdae71a787","element","innerHTML","$e218807ea439c3be$export$e4e38755600886fc","options","key","$7Y9D8","Notify","info","module","exports","URL","resolve","import","meta","url","toString","$62b5fe9a949df088$export$c5604fa8028da00","language","$bac4e8f183b592e2$export$56d6cd672cd167a5","page","include_adult","include_video","register","JSON","parse"],"version":3,"file":"index.04e540c9.js.map"}