{"mappings":"oeAAAA,EAAA,SCCA,SAASC,IACP,IAAIC,EAAaC,KAAKC,MAAMC,aAAaC,QAFzB,YAEkD,GAMlE,OALAC,QAAQC,IAAIN,GACc,IAAtBA,EAAWO,UAsGjB,WACE,MAAMC,EAAYC,SAASC,eAAe,oBACpCC,EAAc,gHAKpBH,EAAUI,UAAYD,C,CA5GpBE,GACAR,QAAQC,IAAIN,IAEPA,C,EAkCT,WACE,MAAMQ,EAAYC,SAASC,eAAe,oBAGpCI,EAFyBf,IAEWgB,KAAIC,IAC5C,MAAMC,YACJA,EAAWC,aACXA,EAAYC,MACZA,EAAKC,aACLA,EAAYC,UACZA,GACEL,EAEEM,EAA4BD,EA3CRN,KAAIQ,IAC9B,OAAQA,GACN,KAAK,GACH,MAAO,SACT,KAAK,GACH,MAAO,YACT,KAAK,GACH,MAAO,YACT,KAAK,GACH,MAAO,SACT,KAAK,GACH,MAAO,QACT,KAAK,IACH,MAAO,SACT,KAAK,GACH,MAAO,WACT,KAAK,MACH,MAAO,SACT,KAAK,GACH,MAAO,UACT,KAAK,MACH,MAAO,UACT,KAAK,KACH,MAAO,UACT,QACE,MAAO,K,IAGKC,MAAM,EAAG,GAiBzB,MAAMC,EAAcP,EAAaM,MAAM,EAAG,GAG1C,MAAO,uKAGmEP,WAAqBE,6IAGrDA,6EAE5BG,EAAOI,KAAK,iFAEVD,6KAMoBL,0GAEiBA,glBAapD,IAGHZ,EAAUmB,mBAAmB,YAAab,EAAWY,KAAK,KAE7BjB,SAASmB,iBAAiB,mBAClCC,SAAQC,IAC3B,MACMC,EADSD,EAAoBE,QAAQC,OACT,GAAM,IAExCH,EAAoBI,MAAMC,MAAQ,GAAGJ,IAAkB,G,CAG3DK,G","sources":["src/library.js","src/js/components/library-list.js"],"sourcesContent":["import './js/components/header';\n\nimport './js/components/library-list';\nimport './js/components/modal';\nimport './js/components/footer';\n","let STORAGE_KEY = 'movies'\nfunction getMoviesFromLocalStorage() {\n  let moviesData = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];\n  console.log(moviesData)\n  if (moviesData.length === 0) {\n    renderEmptyLocalMarkup();\n    console.log(moviesData);\n  }\n  return moviesData;\n  \n}\nfunction getGenreNamesByIds(genreIds) {\n  const genreNames = genreIds.map(genreId => {\n    switch (genreId) {\n      case 28:\n        return \"Action\";\n      case 12:\n        return \"Adventure\";\n      case 16:\n        return \"Animation\";\n      case 35:\n        return \"Comedy\";\n      case 80:\n        return \"Crime\";\n      case 878:\n        return \"Sci-fi\";\n      case 53:\n        return \"Thriller\";\n      case 10751:\n        return \"Family\";\n      case 14:\n        return \"Fantasy\";\n      case 10749:\n        return \"Romance\";\n      case 9648:\n        return \"Mystery\";\n      default:\n        return \"12\";\n    }\n  });\n  return genreNames.slice(0, 2);\n}\nfunction renderData() {\n  const container = document.getElementById('movies-container');\n  const moviesFromLocalStorage = getMoviesFromLocalStorage(); \n\n  const movieItems = moviesFromLocalStorage.map(movie => {\n    const {\n      poster_path,\n      release_date,\n      title,\n      vote_average,\n      genre_ids\n    } = movie;\n\n    const genres = getGenreNamesByIds(genre_ids);\n\n    const releaseYear = release_date.slice(0, 4);\n\n\n    return `\n      <li class=\"library-list-item\">\n        <a class=\"library-item-link\" href=\"\"> \n          <img class=\"library-list-img\" src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"${title}\" />\n          <div class=\"library-item-desc\">\n            <div class=\"title-genre-date\">\n              <p class=\"library-item-title\">${title}</p>\n              <p class=\"library-item-genre-date\">\n                ${genres.join(', ')} | \n                <span class=\"library-item-date\">\n                  ${releaseYear}\n                </span> \n              </p>\n            </div>\n          </div>\n          <div class=\"library-item-rating\">\n            <div class=\"rating_value\">${vote_average}</div>\n            <div class=\"rating-body\">\n              <div class=\"rating__active\" data-rating=\"${vote_average}\">\n                <div class=\"rating__items\">\n                  <input type=\"radio\" class=\"rating__item\" value=\"1\" name=\"rating\">\n                  <input type=\"radio\" class=\"rating__item\" value=\"2\" name=\"rating\">\n                  <input type=\"radio\" class=\"rating__item\" value=\"3\" name=\"rating\">\n                  <input type=\"radio\" class=\"rating__item\" value=\"4\" name=\"rating\">\n                  <input type=\"radio\" class=\"rating__item\" value=\"5\" name=\"rating\">\n                </div>\n              </div>\n            </div>\n          </div>\n        </a>\n      </li>\n    `;\n  });\n\n  container.insertAdjacentHTML('beforeend', movieItems.join(''));\n\n  const ratingActiveElements = document.querySelectorAll('.rating__active');\n  ratingActiveElements.forEach(ratingActiveElement => {\n    const rating = ratingActiveElement.dataset.rating;\n    const widthPercentage = (rating / 10) * 100;\n\n    ratingActiveElement.style.width = `${widthPercentage}%`\n  });\n}\nrenderData();\n\nfunction renderEmptyLocalMarkup() {\n  const container = document.getElementById('movies-container');\n  const failureText = `\n    <p>OOPS...<br>\n    We are very sorry!<br>\n    We don't have any results matching your search.</p>\n  `;\n  container.innerHTML = failureText;\n}\n\n"],"names":["parcelRequire","$aa40dc4afcabace1$var$getMoviesFromLocalStorage","moviesData","JSON","parse","localStorage","getItem","console","log","length","container","document","getElementById","failureText","innerHTML","$aa40dc4afcabace1$var$renderEmptyLocalMarkup","movieItems","map","movie","poster_path","release_date","title","vote_average","genre_ids","genres","genreId","slice","releaseYear","join","insertAdjacentHTML","querySelectorAll","forEach","ratingActiveElement","widthPercentage","dataset","rating","style","width","$aa40dc4afcabace1$var$renderData"],"version":3,"file":"library.4fd2de0b.js.map"}