{"mappings":"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","sources":["src/index.js","src/js/api/fetchWeekly.js","src/js/refs/weeklyRefs.js","src/js/utils/weeklyUtils.js","src/js/markup/weeklyMarkup.js","src/js/components/weekly.js","src/js/components/upcoming.js"],"sourcesContent":["import './js/components/header';\nimport './js/components/hero';\nimport './js/components/weekly';\nimport './js/components/upcoming';\nimport './js/components/modal';\nimport './js/components/footer';\n","//FETCH\nimport { BASE_URL } from './apiKey';\n\nasync function fetchData(END_POINT, options) {\n  try {\n    const response = await fetch(`${BASE_URL}${END_POINT}`, options);\n    const data = await response.json();\n    return data.results.slice(0, 3);\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nasync function fetchGenres(options) {\n  try {\n    const response = await fetch(\n      `${BASE_URL}genre/movie/list?language=en`,\n      options\n    );\n    const data = await response.json();\n    return data.genres;\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nexport { fetchData };\nexport { fetchGenres };\n","const weeklyUlRef = document.querySelector('.weekly-list');\nexport { weeklyUlRef };\n","function transformData(movieData, genreData) {\n  const transformedMovies = movieData.map(movie => {\n    const genreIds = movie.genre_ids;\n    const genres = genreIds.map(\n      id => genreData.find(genre => genre.id === id).name\n    );\n\n    return {\n      release_date: movie.release_date,\n      id: movie.id,\n      title: movie.title,\n      poster: movie.poster_path,\n      genreFirst: genres[0],\n      genreSecond: genres[1],\n    };\n  });\n  return transformedMovies;\n}\n\nexport { transformData };\n","import { transformData } from '../utils/weeklyUtils';\n\nfunction renderMarkup(movieData, genreData) {\n  const transformedData = transformData(movieData, genreData);\n\n  return generateMarkup(transformedData);\n}\n\nfunction addMarkup(element, markup) {\n  element.innerHTML = markup;\n}\n\nfunction generateMarkup(data) {\n  const markup = data\n    .map(\n      movie => ` \n        <li class=\"weekly-item\" data-id=\"${movie.id}\">\n          <a class=\"weekly-link link\" href=\"\">\n              <img class=\"weekly-poster-list\" src=\"https://image.tmdb.org/t/p/w500/${\n                movie.poster\n              }\" alt=\"${movie.title}\" />       \n          <div class=\"weekly-info\">\n              <h2 class=\"weekly-info-title\">${movie.title}</h2>\n                  <div class=\"info-movie\">\n                      <p class=\"weekly-info-genre\">${movie.genreFirst},&nbsp ${\n        movie.genreSecond\n      }&nbsp ‚ñè</p>\n                      <p class=\"weekly-info-date\">${movie.release_date.slice(\n                        0,\n                        4\n                      )}</p>\n                  </div>\n          </div></a>     \n      </li>\n       `\n    )\n    .join('');\n\n  return markup;\n}\n\nexport { renderMarkup, addMarkup, generateMarkup };\n","import { fetchData } from '../api/fetchWeekly';\nimport { fetchGenres } from '../api/fetchWeekly';\nimport { weeklyUlRef } from '../refs/weeklyRefs';\nimport { options } from '../api/apiKey';\n\nimport { renderMarkup, addMarkup } from '../markup/weeklyMarkup';\n\nconst END_POINT = 'trending/all/week?language=en-US';\n\n// WORKSPACE\n\nwindow.addEventListener('load', onPageLoad);\n\n// LISTENERS\nfunction onPageLoad() {\n  const genrePromise = fetchGenres(options);\n\n  fetchData(END_POINT, options).then(movieData => {\n    console.log(movieData);\n\n    genrePromise.then(genreData => {\n      const markup = renderMarkup(movieData, genreData);\n      addMarkup(weeklyUlRef, markup);\n    });\n  });\n}\n","const BASE_URL = 'https://api.themoviedb.org/3/';\nconst END_POINT_UPCOMING = 'movie/upcoming';\nconst END_POINT_GENRE = 'genre/movie/list?language=en';\nconst API_KEY = 'api_key=bd0a4499e3f0b036025d12595397227a';\n\nconst upcomingList = document.querySelector('.upcoming-response-content-js');\n\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiZDBhNDQ5OWUzZjBiMDM2MDI1ZDEyNTk1Mzk3MjI3YSIsInN1YiI6IjY0N2YxZDM3Y2FlZjJkMDEzNjJjZDBjMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.04GEOyHwNXnOZB4gUWNaiyPlLlOZ0z9Ttfl7T5UFMuk',\n  },\n};\n\nasync function fetchGenres() {\n  try {\n    const response = await fetch(`${BASE_URL}${END_POINT_GENRE}`, options);\n    const data = await response.json();\n\n    return data.genres;\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nasync function fetchData() {\n  try {\n    const response = await fetch(`${BASE_URL}${END_POINT_UPCOMING}`, options);\n    const data = await response.json();\n\n    return data.results[Math.floor(Math.random() * data.results.length)];\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nasync function fetchMovieDetails() {\n  const movie = await fetchData();\n  const genreData = await fetchGenres();\n\n  movie.genres = movie.genre_ids\n    .map(id => genreData.find(genre => genre.id === id).name)\n    .slice(0, 2)\n    .join(', ');\n\n  return movie;\n}\n\nfunction createMarkup(movie) {\n  let textContent = movie.overview;\n  if (movie.overview.length > 300) {\n    textContent = movie.overview.split('').slice(0, 300).join('') + '...';\n  }\n  const message = `<h3 class=\"upcoming-alert\">Ops! No upcoming films...</h3>`;\n  let filmContent = `\n  \n  <div class =\"upcoming-section-wrap\">\n  \n    <picture class=\"upcoming-poster\">\n        <source media=\"(min-width:768px)\" srcset=\"https://image.tmdb.org/t/p/original${\n          movie.backdrop_path\n        }\">\n        <img src=\"https://image.tmdb.org/t/p/w500${\n          movie.poster_path\n        }\" alt=\"poster_path\" style=\"width:auto;\">\n    </picture>\n\n    <div>\n        <h3 class=\"upcoming-film-title\">${movie.title}</h3>\n        \n        <div class =\"info-film\">\n            <div class=\"info-film-block\">\n              <div class=\"info-film-item\">\n                <p class=\"info-film-item-text\">Release date</p>\n                <p class=\"info-film-resp-release-date\">${movie.release_date.replace(\n                  /^(\\d+)-(\\d+)-(\\d+)$/,\n                  `$3.$2.$1`\n                )}</p>\n              </div>\n\n              <div class=\"info-film-item\">\n                <p class=\"info-film-item-text\">Vote / Votes</p>\n                <p class=\"info-film-votes-count\"><span>${\n                  movie.vote_average\n                }</span><b>/</b><span>${movie.vote_count}</span></p>\n              </div>\n            </div>\n            \n            <div class=\"info-film-block\">\n              <div class=\"info-film-item\">\n                <p class=\"info-film-item-text\">Popularity</p>\n                <p class=\"info-film-popularity text-color-white\">${Number(\n                  movie.popularity.toFixed(1)\n                )}</p>\n              </div>\n\n              <div class=\"info-film-item\">\n                <p class=\"info-film-item-text\">Genre</p>\n                <p class=\"info-film-genre-style text-color-white genre-padding-bottom\">${\n                  movie.genres\n                }</p>\n              </div>\n            </div> \n             \n        </div>\n    \n        <div class =\"info-film-overview\">\n      <h3 class=\"film-description-title\">ABOUT</h3>\n      <p class=\"film-description\">${textContent}</p>\n      <button class=\"btn\">add to my library</button>\n      </div>\n    </div>\n  </div>`;\n\n  return !movie.results ? filmContent : message;\n}\n\nwindow.addEventListener('load', onPageLoad);\n\nfunction onPageLoad() {\n  fetchMovieDetails().then(movie => {\n    upcomingList.insertAdjacentHTML('beforeend', createMarkup(movie));\n  });\n}\n\n{\n  /* <div>\n        <h3 class=\"upcoming-film-title\">${movie.title}</h3>\n        \n        <div class =\"info-film\">\n            <div>\n              <div class=\"info-film-item\">\n                <p>Release date</p>\n                <p class=\"release-date\">${(movie.release_date).replace(/^(\\d+)-(\\d+)-(\\d+)$/, `$3.$2.$1`)}</p>\n              </div>\n\n              <div class=\"info-film-item\">\n                <p>Vote / Votes</p>\n                <p class=\"votes-count\"><span>${movie.vote_average}</span><b>/</b><span>${movie.vote_count}</span></p>\n              </div>\n            </div>\n            \n            <div>\n              <div class=\"info-film-item\">\n                <p>Popularity</p>\n                <p class=\"text-color-white\">${(Number(movie.popularity.toFixed(1)))}</p>\n              </div>\n\n              <div class=\"info-film-item\">\n                <p>Genre</p>\n                <p class=\"genre-style text-color-white\">${movie.genres}</p>\n              </div>\n            </div> \n             \n        </div>\n    \n  \n      <h3 class=\"film-description-title\">ABOUT</h3>\n      <p class=\"film-description\">${textContent}</p>\n      <button class=\"btn\">add to my library</button>\n    </div>\n  </div>`;\n\n\n */\n}\n"],"names":["parcelRequire","$bpxeT","$15e1d5de8d44c5fc$export$8134c072fddab6a5","END_POINT","options","$15e1d5de8d44c5fc$var$_fetchData","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","response","data","fetch","concat","$ks1QH","BASE_URL","_ctx","sent","json","results","slice","console","log","t0","message","$15e1d5de8d44c5fc$export$e95d448b93b2cdb","$15e1d5de8d44c5fc$var$_fetchGenres","genres","$d74639c227004755$export$1e4302467ae64eb8","document","querySelector","$c9916a4381095b76$export$3ceb62baab058c6b","movieData","genreData","map","movie","genre_ids","id","find","genre","name","release_date","title","poster","poster_path","genreFirst","genreSecond","$e8f1cd010089648f$export$add40575555c273c","transformedData","join","$e8f1cd010089648f$export$485cc6bdae71a787","element","markup","innerHTML","window","addEventListener","genrePromise","then","$151e1b73a1b4c7fb$var$BASE_URL","$151e1b73a1b4c7fb$var$END_POINT_UPCOMING","$151e1b73a1b4c7fb$var$END_POINT_GENRE","$151e1b73a1b4c7fb$var$upcomingList","$151e1b73a1b4c7fb$var$options","method","headers","accept","Authorization","$151e1b73a1b4c7fb$var$fetchGenres","$151e1b73a1b4c7fb$var$_fetchGenres","$151e1b73a1b4c7fb$var$fetchData","$151e1b73a1b4c7fb$var$_fetchData","Math","floor","random","length","$151e1b73a1b4c7fb$var$_fetchMovieDetails","$151e1b73a1b4c7fb$var$fetchMovieDetails","insertAdjacentHTML","textContent","overview","split","filmContent","backdrop_path","replace","vote_average","vote_count","Number","popularity","toFixed","$151e1b73a1b4c7fb$var$createMarkup"],"version":3,"file":"index.08fb96df.js.map"}