var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,i.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequired7c6=i),i("3rDVG"),i("5h2Rr");var a=i("8IXMh");const r={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiZDBhNDQ5OWUzZjBiMDM2MDI1ZDEyNTk1Mzk3MjI3YSIsInN1YiI6IjY0N2YxZDM3Y2FlZjJkMDEzNjJjZDBjMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.04GEOyHwNXnOZB4gUWNaiyPlLlOZ0z9Ttfl7T5UFMuk"}},o=document.querySelector(".catalog-list"),l=document.querySelector(".search-form"),s=document.querySelector(".search-form-input"),c=document.querySelector(".error-container"),d=document.querySelector(".btn-clear");function u(){const e=window.innerWidth;let t;t=e>=768?20:10;g(`trending/movie/week?language=en-US&include_adult=false&include_video=false&page=1&per_page=${t}`,r).then((e=>{f(e.slice(0,t)).then((e=>{h(o,e),o.addEventListener("click",a.selectMovie)}))}))}function p(){const e=c.querySelector(".no-results-message");e&&e.remove()}async function g(e,t){const n=await fetch(`https://api.themoviedb.org/3/${e}`,t);return(await n.json()).results.slice(0,20)}function f(e){return async function(e){const t=await fetch("https://api.themoviedb.org/3/genre/movie/list?language=en",e);return(await t.json()).genres}(r).then((t=>{const n=function(e,t){return e.map((e=>{const n=e.genre_ids.map((e=>t.find((t=>t.id===e)).name));return{release_date:e.release_date,id:e.id,title:e.title,poster:e.poster_path,genreFirst:n[0],genreSecond:n[1]}}))}(e,t);return n.map((e=>`<li data-id="${e.id}" class="catalog-movie">\n        <div class="catalog-item-link" href="">\n            <img class="catalog-list-img" src="https://image.tmdb.org/t/p/w500${e.poster}" alt="${e.title}" />\n            <div class="catalog-movie-desc">\n            <p  class="catalog-item-title" data-id="${e.id}">${e.title}</p>\n            <p class="catalog-item-movie" data-id="${e.id}" >\n                ${e.genreFirst}, ${e.genreSecond} | \n                <span data-id="${e.id} class="catalog-item-date">\n                    ${e.release_date.slice(0,4)}\n                </span> \n            </p>\n            </div>\n            </div> \n        </li>`)).join("")}))}function h(e,t){e.innerHTML=t}window.addEventListener("load",u),l.addEventListener("submit",(function(e){e.preventDefault();const t=s.value.trim();let n;n=window.innerWidth>=768?20:10;if(""!==t){g(`search/movie?query=${t}&language=en-US&page=1&per_page=${n}`,r).then((e=>{e.length>0?(f(e.slice(0,n)).then((e=>{h(o,e)})),p()):function(){const e=document.createElement("p");e.classList.add("no-results-message"),e.textContent="OOPS... We are very sorry! We don't have any results matching your search.",c.appendChild(e),o.innerHTML=""}()}))}else u(),p()})),d.addEventListener("click",(function(e){s.value=""})),s.addEventListener("input",(function(e){if(0===e.target.value.length)return void(d.style.display="none");d.style.display="block"})),i("8IXMh"),i("gTaRf");
//# sourceMappingURL=catalog.4a12c138.js.map
