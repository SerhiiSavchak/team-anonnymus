{"mappings":"AAAA,MAAMA,EAAeC,SAASC,eAAe,UACvCC,EAAOF,SAASC,eAAe,OAC/BE,EAAOH,SAASC,eAAe,QAC/BG,EAAOJ,SAASK,cAAc,QAC9BC,EAASN,SAASK,cAAc,WAChCE,EAAUP,SAASK,cAAc,kBACvCN,EAAaS,iBAAiB,SAAS,WACrCN,EAAKO,UAAUC,OAAO,UACtBR,EAAKO,UAAUC,OAAO,aACvB,MAAMC,EAAMR,EAAKM,UAAUC,OAAO,UAClCP,EAAKM,UAAUC,OAAO,aAClBC,GACDP,EAAKQ,MAAMC,gBAAkB,SAC7BP,EAAOM,MAAMC,gBAAkB,QAC/BN,EAAQK,MAAME,MAAQ,YAEtBV,EAAKQ,MAAMC,gBAAkB,SAC7BP,EAAOM,MAAMC,gBAAkB,QAC/BN,EAAQK,MAAME,MAAQ,U,IAKzB,MACC,MAAMC,EAAO,CACXC,YAAahB,SAASK,cAAc,oBACpCY,aAAcjB,SAASK,cAAc,qBACrCa,KAAMlB,SAASK,cAAc,gBAW/B,SAASc,IACPJ,EAAKG,KAAKE,aAAa,UAAU,GACjCC,OAAOC,oBAAoB,SAAUC,E,CAGvC,SAASA,IACaF,OAAOG,WACT,KAChBL,G,CAhBJJ,EAAKC,YAAYR,iBAAiB,SAGlC,WACEO,EAAKG,KAAKO,gBAAgB,UAC1BJ,OAAOb,iBAAiB,SAAUe,E,IAJpCR,EAAKE,aAAaT,iBAAiB,QAASW,EAkB7C,EA1BA,GCZDO,eAAeC,EAAUC,EAAWC,GAChC,MAAMC,QAAiBC,MACrB,gCAAcH,IACdC,GAGF,aADmBC,EAASE,QAChBC,QAAQC,MAAM,EAAG,E,CAG/BR,eAAeS,EAAYC,GACzB,MAAMN,QAAiBC,MACrB,4DACAK,GAGF,aADmBN,EAASE,QAChBK,M,CCxBhB,MAEMC,EAAU,CACdC,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cACE,+NAMAC,EAAc3C,SAASK,cAAc,gBAI3CgB,OAAOb,iBAAiB,QAGxB,WACEmB,EApBgB,mCAoBKW,GAASM,MAAKC,KA4DrCnB,eAA4BmB,GAC1B,aAAaV,EAAYG,GAASM,MAAKE,IACrC,MAAMC,EArDV,SAAuBF,EAAWC,GAiBhC,OAhB0BD,EAAUG,KAAIC,IACtC,MACMZ,EADWY,EAAMC,UACCF,KACtBG,GAAML,EAAUM,MAAKC,GAASA,EAAMF,KAAOA,IAAIG,OAGjD,MAAO,CACLC,aAAcN,EAAMM,aACpBJ,GAAIF,EAAME,GACVK,MAAOP,EAAMO,MACbC,OAAQR,EAAMS,YACdC,WAAYtB,EAAO,GACnBuB,YAAavB,EAAO,GACrB,G,CAuCuBwB,CAAchB,EAAWC,GAGjD,OAFAgB,QAAQC,IAAIhB,GAEUA,EAhCrBC,KACCC,GAAS,qKAIDA,EAAMQ,gBACER,EAAMO,kGAEgBP,EAAMO,0GAECP,EAAMU,oBACjDV,EAAMW,2EAEoCX,EAAMM,aAAarB,MAC/C,EACA,8EAOjB8B,KAAK,GAUgC,G,EAhEtCC,CAAapB,GAAWD,MAAKsB,KAoEjC,SAAmBC,EAASD,GAC1BC,EAAQC,UAAYF,C,CApEhBG,CAAU1B,EAAauB,EAAO,GAC9B,G","sources":["src/js/components/header.js","src/js/api/fetchWeekly.js","src/js/components/weekly.js"],"sourcesContent":["const switchButton = document.getElementById('switch');\nconst svg1 = document.getElementById(\"sun\");\nconst svg2 = document.getElementById(\"moon\");\nconst body = document.querySelector(\"body\");\nconst header = document.querySelector(\".header\");\nconst menuBtn = document.querySelector(\".menu-open-btn\");\nswitchButton.addEventListener('click', function() {\n  svg1.classList.toggle('active');\n  svg1.classList.toggle('no-active');\n const moon =svg2.classList.toggle('active');\n svg2.classList.toggle('no-active');\n  if(moon){\n    body.style.backgroundColor = \"f8f8f8\";\n    header.style.backgroundColor = \"black\";\n    menuBtn.style.color = \"#B7B7B7\";\n  }else{\n    body.style.backgroundColor = \"f8f8f8\";\n    header.style.backgroundColor = \"white\";\n    menuBtn.style.color = \"#595959\";\n    \n  }\n});\n\n(() => {\n  const refs = {\n    openMenuBtn: document.querySelector(\"[data-menu-open]\"),\n    closeMenuBtn: document.querySelector(\"[data-menu-close]\"),\n    menu: document.querySelector(\"[data-menu]\"),\n  };\n\n  refs.openMenuBtn.addEventListener(\"click\", openMenu);\n  refs.closeMenuBtn.addEventListener(\"click\", closeMenu);\n\n  function openMenu() {\n    refs.menu.removeAttribute(\"hidden\");\n    window.addEventListener(\"resize\", checkWindowWidth);\n  }\n\n  function closeMenu() {\n    refs.menu.setAttribute(\"hidden\", true);\n    window.removeEventListener(\"resize\", checkWindowWidth);\n  }\n\n  function checkWindowWidth() {\n    const screenWidth = window.innerWidth;\n    if (screenWidth > 767) {\n      closeMenu();\n    }\n  }\n})();\n\n","const BASE_URL = 'https://api.themoviedb.org/3/';\nconst END_POINT = 'trending/all/week?language=en-US';\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiZDBhNDQ5OWUzZjBiMDM2MDI1ZDEyNTk1Mzk3MjI3YSIsInN1YiI6IjY0N2YxZDM3Y2FlZjJkMDEzNjJjZDBjMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.04GEOyHwNXnOZB4gUWNaiyPlLlOZ0z9Ttfl7T5UFMuk',\n  },\n};\n\nasync function fetchData(END_POINT, options) {\n    const response = await fetch(\n      `${BASE_URL}${END_POINT}`,\n      options\n    );\n    const data = await response.json();\n    return data.results.slice(0, 3);\n  }\n  \n  async function fetchGenres(options) {\n    const response = await fetch(\n      `https://api.themoviedb.org/3/genre/movie/list?language=en`,\n      options\n    );\n    const data = await response.json();\n    return data.genres;\n  }\n\nexport { fetchData }\nexport { fetchGenres }\n  ","import { fetchData } from '../api/fetchWeekly';\nimport { fetchGenres } from '../api/fetchWeekly';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst END_POINT = 'trending/all/week?language=en-US';\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiZDBhNDQ5OWUzZjBiMDM2MDI1ZDEyNTk1Mzk3MjI3YSIsInN1YiI6IjY0N2YxZDM3Y2FlZjJkMDEzNjJjZDBjMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.04GEOyHwNXnOZB4gUWNaiyPlLlOZ0z9Ttfl7T5UFMuk',\n  },\n};\n\n// REFS\n\nconst weeklyUlRef = document.querySelector('.weekly-list');\n\n// WORKSPACE\n\nwindow.addEventListener('load', onPageLoad);\n\n// LISTENERS\nfunction onPageLoad() {\n  fetchData(END_POINT, options).then(movieData => {\n    renderMarkup(movieData).then(markup => {\n      addMarkup(weeklyUlRef, markup);\n    });\n  });\n}\n\n// UTILS\n\nfunction transformData(movieData, genreData) {\n  const transformedMovies = movieData.map(movie => {\n    const genreIds = movie.genre_ids;\n    const genres = genreIds.map(\n      id => genreData.find(genre => genre.id === id).name\n    );\n\n    return {\n      release_date: movie.release_date,\n      id: movie.id,\n      title: movie.title,\n      poster: movie.poster_path,\n      genreFirst: genres[0],\n      genreSecond: genres[1],\n    };\n  });\n\n  return transformedMovies;\n}\n\n// MARKUP\n\nfunction generateMarkup(data) {\n  const markup = data\n    .map(\n      movie => ` \n      <li class=\"weekly-item\">\n        <a class=\"weekly-link link\" href=\"\">\n            <img class=\"weekly-poster-list\" src=\"https://image.tmdb.org/t/p/w500/${\n              movie.poster\n            }\" alt=\"${movie.title}\" />       \n        <div class=\"weekly-info\">\n            <h2 class=\"weekly-info-title\">${movie.title}</h2>\n                <div class=\"info-movie\">\n                    <p class=\"weekly-info-genre\">${movie.genreFirst},&nbsp ${\n        movie.genreSecond\n      }&nbsp ▏</p>\n                    <p class=\"weekly-info-date\">${movie.release_date.slice(\n                      0,\n                      4\n                    )}</p>\n                </div>\n        </div></a>     \n    </li>\n     `\n    )\n    .join('');\n\n  return markup;\n}\n\nasync function renderMarkup(movieData) {\n  return await fetchGenres(options).then(genreData => {\n    const transformedData = transformData(movieData, genreData);\n    console.log(transformedData);\n\n    return generateMarkup(transformedData);\n  });\n}\n\nfunction addMarkup(element, markup) {\n  element.innerHTML = markup;\n}\n\n// //FETCH\n\n// const axios = require(\"axios\");\n\n// async function fetchData(END_POINT, options) {\n//   const response = await axios.get(\n//     `${BASE_URL}${END_POINT}`,\n//     options\n//   );\n//   return response.data.results.slice(0, 3);\n// }\n\n// async function fetchGenres(options) {\n//   const response = await axios.get(\n//     `https://api.themoviedb.org/3/genre/movie/list?language=en`,\n//     options\n//   );\n//   return response.data.genres;\n// }\n\n//////копія на всякий случай----------------------------------------------------------------\n// async function fetchData(END_POINT, options) {\n//   const response = await fetch(\n//     `${BASE_URL}${END_POINT}`,\n//     options\n//   );\n//   const data = await response.json();\n//   return data.results.slice(0, 3);\n// }\n\n// async function fetchGenres(options) {\n//   const response = await fetch(\n//     `https://api.themoviedb.org/3/genre/movie/list?language=en`,\n//     options\n//   );\n//   const data = await response.json();\n//   return data.genres;\n// }\n"],"names":["$2822dddaba6d2aa9$var$switchButton","document","getElementById","$2822dddaba6d2aa9$var$svg1","$2822dddaba6d2aa9$var$svg2","$2822dddaba6d2aa9$var$body","querySelector","$2822dddaba6d2aa9$var$header","$2822dddaba6d2aa9$var$menuBtn","addEventListener","classList","toggle","moon","style","backgroundColor","color","refs","openMenuBtn","closeMenuBtn","menu","closeMenu","setAttribute","window","removeEventListener","checkWindowWidth","innerWidth","removeAttribute","async","$bce748f2d8dfedab$export$8134c072fddab6a5","END_POINT1","options1","response","fetch","json","results","slice","$bce748f2d8dfedab$export$e95d448b93b2cdb","options2","genres","$83069180f38e8654$var$options","method","headers","accept","Authorization","$83069180f38e8654$var$weeklyUlRef","then","movieData","genreData","transformedData","map","movie","genre_ids","id","find","genre","name","release_date","title","poster","poster_path","genreFirst","genreSecond","$83069180f38e8654$var$transformData","console","log","join","$83069180f38e8654$var$renderMarkup","markup","element","innerHTML","$83069180f38e8654$var$addMarkup"],"version":3,"file":"index.f53c5fc1.js.map"}