{"mappings":"gfAAAA,EAAA,SCAA,IA2CQC,EAGAC,EA7CR,SAASC,IACP,IAyGMF,EACAG,EA1GFC,EAAaC,KAAKC,MAAMC,aAAaC,QAFzB,YAEkD,GAMlE,OALAC,QAAQC,IAAIN,GACc,IAAtBA,EAAWO,SAuGTX,EAAYY,SAASC,eAAe,oBACpCV,EAAe,gHAKrBH,EAAUc,UAAYX,EA3GpBM,QAAQC,IAAIN,IAEPA,C,CAmCDJ,EAAYY,SAASC,eAAe,oBAGpCZ,EAFyBC,IAEWa,KAAI,SAAAC,GAC5C,IACEC,EAKED,EALFC,YACAC,EAIEF,EAJFE,aACAC,EAGEH,EAHFG,MACAC,EAEEJ,EAFFI,aACAC,EACEL,EADFK,UAGIC,EAA4BD,EA3CRN,KAAI,SAAAQ,GAC9B,OAAQA,GACN,KAAK,GACH,MAAO,SACT,KAAK,GACH,MAAO,YACT,KAAK,GACH,MAAO,YACT,KAAK,GACH,MAAO,SACT,KAAK,GACH,MAAO,QACT,KAAK,IACH,MAAO,SACT,KAAK,GACH,MAAO,WACT,KAAK,MACH,MAAO,SACT,KAAK,GACH,MAAO,UACT,KAAK,MACH,MAAO,UACT,KAAK,KACH,MAAO,UACT,QACE,MAAO,K,IAGKC,MAAM,EAAG,GAiBnBC,EAAcP,EAAaM,MAAM,EAAG,GAG1C,MAAO,uKAGwFE,OAArBT,EAAY,WAG5CS,OAHqDP,EAAM,6IAKvFO,OAF4BP,EAAM,6EAIhCO,OAFFJ,EAAOK,KAAK,MAAM,6EAQID,OANpBD,EAAY,6KAQyBC,OAFjBN,EAAa,0GAEiBM,OAAbN,EAAa,glB,IAgBpEpB,EAAU4B,mBAAmB,YAAa3B,EAAW0B,KAAK,KAE7Bf,SAASiB,iBAAiB,mBAClCC,SAAQ,SAAAC,GAC3B,IACMC,EADSD,EAAoBE,QAAQC,OACT,GAAM,IAExCH,EAAoBI,MAAMC,MAAQ,GAAmBV,OAAhBM,EAAgB,I","sources":["src/library.js","src/js/components/library-list.js"],"sourcesContent":["import './js/components/header';\n\nimport './js/components/library-list';\nimport './js/components/modal';\nimport './js/components/footer';\n","let STORAGE_KEY = 'movies'\nfunction getMoviesFromLocalStorage() {\n  let moviesData = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];\n  console.log(moviesData)\n  if (moviesData.length === 0) {\n    renderEmptyLocalMarkup();\n    console.log(moviesData);\n  }\n  return moviesData;\n  \n}\nfunction getGenreNamesByIds(genreIds) {\n  const genreNames = genreIds.map(genreId => {\n    switch (genreId) {\n      case 28:\n        return \"Action\";\n      case 12:\n        return \"Adventure\";\n      case 16:\n        return \"Animation\";\n      case 35:\n        return \"Comedy\";\n      case 80:\n        return \"Crime\";\n      case 878:\n        return \"Sci-fi\";\n      case 53:\n        return \"Thriller\";\n      case 10751:\n        return \"Family\";\n      case 14:\n        return \"Fantasy\";\n      case 10749:\n        return \"Romance\";\n      case 9648:\n        return \"Mystery\";\n      default:\n        return \"12\";\n    }\n  });\n  return genreNames.slice(0, 2);\n}\nfunction renderData() {\n  const container = document.getElementById('movies-container');\n  const moviesFromLocalStorage = getMoviesFromLocalStorage(); \n\n  const movieItems = moviesFromLocalStorage.map(movie => {\n    const {\n      poster_path,\n      release_date,\n      title,\n      vote_average,\n      genre_ids\n    } = movie;\n\n    const genres = getGenreNamesByIds(genre_ids);\n\n    const releaseYear = release_date.slice(0, 4);\n\n\n    return `\n      <li class=\"library-list-item\">\n        <a class=\"library-item-link\" href=\"\"> \n          <img class=\"library-list-img\" src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"${title}\" />\n          <div class=\"library-item-desc\">\n            <div class=\"title-genre-date\">\n              <p class=\"library-item-title\">${title}</p>\n              <p class=\"library-item-genre-date\">\n                ${genres.join(', ')} | \n                <span class=\"library-item-date\">\n                  ${releaseYear}\n                </span> \n              </p>\n            </div>\n          </div>\n          <div class=\"library-item-rating\">\n            <div class=\"rating_value\">${vote_average}</div>\n            <div class=\"rating-body\">\n              <div class=\"rating__active\" data-rating=\"${vote_average}\">\n                <div class=\"rating__items\">\n                  <input type=\"radio\" class=\"rating__item\" value=\"1\" name=\"rating\">\n                  <input type=\"radio\" class=\"rating__item\" value=\"2\" name=\"rating\">\n                  <input type=\"radio\" class=\"rating__item\" value=\"3\" name=\"rating\">\n                  <input type=\"radio\" class=\"rating__item\" value=\"4\" name=\"rating\">\n                  <input type=\"radio\" class=\"rating__item\" value=\"5\" name=\"rating\">\n                </div>\n              </div>\n            </div>\n          </div>\n        </a>\n      </li>\n    `;\n  });\n\n  container.insertAdjacentHTML('beforeend', movieItems.join(''));\n\n  const ratingActiveElements = document.querySelectorAll('.rating__active');\n  ratingActiveElements.forEach(ratingActiveElement => {\n    const rating = ratingActiveElement.dataset.rating;\n    const widthPercentage = (rating / 10) * 100;\n\n    ratingActiveElement.style.width = `${widthPercentage}%`\n  });\n}\nrenderData();\n\nfunction renderEmptyLocalMarkup() {\n  const container = document.getElementById('movies-container');\n  const failureText = `\n    <p>OOPS...<br>\n    We are very sorry!<br>\n    We don't have any results matching your search.</p>\n  `;\n  container.innerHTML = failureText;\n}\n\n"],"names":["parcelRequire","container","movieItems","$de8ae30f946445d8$var$getMoviesFromLocalStorage","failureText","moviesData","JSON","parse","localStorage","getItem","console","log","length","document","getElementById","innerHTML","map","movie","poster_path","release_date","title","vote_average","genre_ids","genres","genreId","slice","releaseYear","concat","join","insertAdjacentHTML","querySelectorAll","forEach","ratingActiveElement","widthPercentage","dataset","rating","style","width"],"version":3,"file":"library.4eae1a7c.js.map"}