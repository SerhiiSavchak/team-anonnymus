{"mappings":"gfAAAA,EAAA,SCAA,IAAAC,EAAAD,EAAA,S,aAIME,EAAeC,SAASC,cAAc,2BAE5C,SAASC,IACP,IAgEMC,EACAC,EAjEAC,EAAcP,EAAAQ,QAAQC,KALF,gBAO1B,GAAKF,GAAsC,IAAvBA,EAAYG,OAEzB,CACL,IAAMC,EAAwBJ,EAiB7BK,KACC,SAAAC,G,MAAS,iBAEiCC,OAFhBD,EAAME,GAAG,gIAE6BD,OAAtBD,EAAMG,OAAO,WAGdF,OAHuBD,EAAMI,MAAM,gJAK/DH,OAF4BD,EAAMI,MAAM,+EAItCH,OAFFD,EAAMK,OAAO,8EAQSJ,OANpBD,EAAMM,QAAQ,kLAQuBL,OAFjBD,EAAMO,aAAa,4GAEiBN,OAAnBD,EAAMO,aAAa,slB,IAcxEC,KAAK,KAKV,SAAmBC,EAASX,GAC1BW,EAAQC,UAAYZ,C,CArDlBa,CAAUvB,EAAcU,GACxBc,QAAQC,IAAIzB,GAEZA,EAAa0B,iBAAiB,QAASC,EAAAC,Y,MAsDnCxB,EAAYH,SAAS4B,eAAe,oBACpCxB,EAAe,gHAKrBD,EAAUkB,UAAYjB,C,CAxDxByB,OAAOJ,iBAAiB,QAExB,WACEvB,G","sources":["src/library.js","src/js/components/library-list.js"],"sourcesContent":["import './js/components/header';\n\nimport './js/components/library-list';\nimport './js/components/modal';\nimport './js/components/footer';\n","import Storage from '../api/localStorageAPI';\nimport { selectMovie } from '../components/modal';\nconst STORAGE_LIBRARY_KEY = 'movieLibrary';\n\nconst libraryUlRef = document.querySelector('.library-list-container');\n\nfunction renderStorageData() {\n  const savedMovies = Storage.load(STORAGE_LIBRARY_KEY);\n\n  if (!savedMovies || savedMovies.length === 0) {\n    renderEmptyLocalMarkup();\n  } else {\n    const markup = generateMarkup(savedMovies);\n\n    addMarkup(libraryUlRef, markup);\n    console.log(libraryUlRef);\n\n    libraryUlRef.addEventListener('click', selectMovie);\n  }\n}\n\nwindow.addEventListener('load', onPageLoad);\n\nfunction onPageLoad() {\n  renderStorageData();\n}\n\nfunction generateMarkup(data) {\n  const markup = data\n    .map(\n      movie => ` <li data-id=\"${movie.id}\" class=\"library-list-item\">\n         <a class=\"library-item-link\" href=\"\">\n           <img class=\"library-list-img\" src=\"${movie.poster}\" alt=\"${movie.title}\" />\n           <div class=\"library-item-desc\">\n             <div class=\"title-genre-date\">\n               <p class=\"library-item-title\">${movie.title}</p>\n               <p class=\"library-item-genre-date\">\n                 ${movie.genres} |\n                 <span class=\"library-item-date\">\n                   ${movie.release}\n                 </span>\n               </p>\n             </div>\n           </div>\n           <div class=\"library-item-rating\">\n             <div class=\"rating_value\">${movie.vote_average}</div>\n             <div class=\"rating-body\">\n               <div class=\"rating__active\" data-rating=\"${movie.vote_average}\">\n                 <div class=\"rating__items\">\n                   <input type=\"radio\" class=\"rating__item\" value=\"1\" name=\"rating\">\n                   <input type=\"radio\" class=\"rating__item\" value=\"2\" name=\"rating\">\n                   <input type=\"radio\" class=\"rating__item\" value=\"3\" name=\"rating\">\n                   <input type=\"radio\" class=\"rating__item\" value=\"4\" name=\"rating\">\n                   <input type=\"radio\" class=\"rating__item\" value=\"5\" name=\"rating\">\n                 </div>\n               </div>\n             </div>\n           </div>\n         </a>\n       </li>`\n    )\n    .join('');\n\n  return markup;\n}\n\nfunction addMarkup(element, markup) {\n  element.innerHTML = markup;\n}\n\nfunction renderEmptyLocalMarkup() {\n  const container = document.getElementById('movies-container');\n  const failureText = `\n    <p>OOPS...<br>\n    We are very sorry!<br>\n    We don't have any results matching your search.</p>\n  `;\n  container.innerHTML = failureText;\n}\n"],"names":["parcelRequire","$cWPZ2","$de8ae30f946445d8$var$libraryUlRef","document","querySelector","$de8ae30f946445d8$var$renderStorageData","container","failureText","savedMovies","default","load","length","markup","map","movie","concat","id","poster","title","genres","release","vote_average","join","element","innerHTML","$de8ae30f946445d8$var$addMarkup","console","log","addEventListener","$8BR1R","selectMovie","getElementById","window"],"version":3,"file":"library.53e9ff1b.js.map"}